!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="42efbae4-547b-47cf-8bac-dbbc716357c3",e._sentryDebugIdIdentifier="sentry-dbid-42efbae4-547b-47cf-8bac-dbbc716357c3")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17388,79746],{17388:function(e,t,n){"use strict";n.d(t,{U:function(){return _},Z:function(){return x}});var r,c=n(94713),o=n(23810),i=n(8512),u=n.n(i),a=n(52106),s=n.n(a),l=new(u())({id:"bookmark-0b77ae17f6c6feb349ce781e0c0e4cbe",use:"bookmark-0b77ae17f6c6feb349ce781e0c0e4cbe-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bookmark-0b77ae17f6c6feb349ce781e0c0e4cbe"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z" /></symbol>'});s().add(l);var d=new(u())({id:"emoji_events-ddb903b2241f2e02c06f1a08bc521abb",use:"emoji_events-ddb903b2241f2e02c06f1a08bc521abb-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="emoji_events-ddb903b2241f2e02c06f1a08bc521abb"><rect fill="none" height="24" width="24" /><path d="M19,5h-2V4c0-0.55-0.45-1-1-1H8C7.45,3,7,3.45,7,4v1H5C3.9,5,3,5.9,3,7v1c0,2.55,1.92,4.63,4.39,4.94 c0.63,1.5,1.98,2.63,3.61,2.96V19H8c-0.55,0-1,0.45-1,1v0c0,0.55,0.45,1,1,1h8c0.55,0,1-0.45,1-1v0c0-0.55-0.45-1-1-1h-3v-3.1 c1.63-0.33,2.98-1.46,3.61-2.96C19.08,12.63,21,10.55,21,8V7C21,5.9,20.1,5,19,5z M5,8V7h2v3.82C5.84,10.4,5,9.3,5,8z M19,8 c0,1.3-0.84,2.4-2,2.82V7h2V8z" /></symbol>'});s().add(d);var f=new(u())({id:"favorite-b952c73f69fec88924112b5f672c8792",use:"favorite-b952c73f69fec88924112b5f672c8792-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="favorite-b952c73f69fec88924112b5f672c8792"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z" /></symbol>'});s().add(f);var m=new(u())({id:"groups-cd35846384aae5e98a27541835c5c5b8",use:"groups-cd35846384aae5e98a27541835c5c5b8-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="groups-cd35846384aae5e98a27541835c5c5b8"><rect fill="none" height="24" width="24" /><g><path d="M12,12.75c1.63,0,3.07,0.39,4.24,0.9c1.08,0.48,1.76,1.56,1.76,2.73L18,17c0,0.55-0.45,1-1,1H7c-0.55,0-1-0.45-1-1l0-0.61 c0-1.18,0.68-2.26,1.76-2.73C8.93,13.14,10.37,12.75,12,12.75z M4,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C2,12.1,2.9,13,4,13z M5.13,14.1C4.76,14.04,4.39,14,4,14c-0.99,0-1.93,0.21-2.78,0.58C0.48,14.9,0,15.62,0,16.43L0,17 c0,0.55,0.45,1,1,1l3.5,0v-1.61C4.5,15.56,4.73,14.78,5.13,14.1z M20,13c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2s-2,0.9-2,2 C18,12.1,18.9,13,20,13z M24,16.43c0-0.81-0.48-1.53-1.22-1.85C21.93,14.21,20.99,14,20,14c-0.39,0-0.76,0.04-1.13,0.1 c0.4,0.68,0.63,1.46,0.63,2.29V18l3.5,0c0.55,0,1-0.45,1-1L24,16.43z M12,6c1.66,0,3,1.34,3,3c0,1.66-1.34,3-3,3s-3-1.34-3-3 C9,7.34,10.34,6,12,6z" /></g></symbol>'});s().add(m);var p=new(u())({id:"person_add-afc9bd51feff556937d0e2b501dbca0a",use:"person_add-afc9bd51feff556937d0e2b501dbca0a-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="person_add-afc9bd51feff556937d0e2b501dbca0a"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V8c0-.55-.45-1-1-1s-1 .45-1 1v2H2c-.55 0-1 .45-1 1s.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1H6zm9 4c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z" /></symbol>'});s().add(p);var b=n(8696),g=n(72938),v=n(79811),y=n(38737),h=n(59024),w=n(8500),j=n(73710),O=n(78297),Z=n.n(O),_=(0,y.Z)(Z().imageSize),x=(r={},(0,c.Z)(r,j.E.enterChallenge,{icon:{symbol:d,color:"noir"},imageUrl:function(e){return(0,o.Z)(e,2)[1]||""}}),(0,c.Z)(r,j.E.likeMedium,{icon:{symbol:f,color:"red"},imageUrl:function(e){return(0,b.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(j.E.likeMedium,".title.").concat(n,".").concat(e.type))}}),(0,c.Z)(r,j.E.collectMedium,{icon:{symbol:l,color:"yellow"},imageUrl:function(e){return(0,b.KV)(e)},title:function(e,t,n){return t.t("modal.intents.".concat(j.E.collectMedium,".title.").concat(n).concat(n===w.vB.login?".".concat(e.type):""))}}),(0,c.Z)(r,j.E.followUser,{icon:{symbol:p,color:"green"},imageUrl:function(e){var t=(0,g.je)(e),n=(0,g.cr)({imgixUrl:t,size:_});return t.includes("gravatar")?n.src:t},title:function(e,t,n){return t.t("modal.intents.".concat(j.E.followUser,".title.").concat(n),{user:(0,h.Z)(e.attributes)})}}),(0,c.Z)(r,j.E.joinCommunity,{icon:{symbol:m,color:"green"},imageUrl:function(e){return e.attributes.image?e.attributes.image:(0,v.L)(e.relationships.media.data[0].id)}}),r)},8500:function(e,t,n){"use strict";n.d(t,{qi:function(){return z},vB:function(){return P},GT:function(){return C},fI:function(){return T}});var r,c,o,i=n(18529),u=n(93992),a=n(72347),s=n(73710),l=n(94713),d=(o={},(0,l.Z)(o,s.E.enterChallenge,s.Q.contributor),(0,l.Z)(o,s.E.likeMedium,s.Q.consumer),(0,l.Z)(o,s.E.collectMedium,s.Q.consumer),(0,l.Z)(o,s.E.followUser,s.Q.consumer),(0,l.Z)(o,s.E.joinCommunity,s.Q.contributor),(0,l.Z)(o,s.E.attendEvent,s.Q.contributor),o),f=n(5338),m=n(23810),p=n(30073),b=n.n(p),g=n(44713),v=n.n(g),y=n(90227),h=n(33106),w=n(82040),j=n(92719),O=n(11031),Z=n(22648),_=n(79746),x=v()(function(){return n.e(87253).then(n.bind(n,87253))},{loadableGenerated:{webpack:function(){return[87253]}}}),E=n(48282),C=((r={})[r.accountTypeSelection=0]="accountTypeSelection",r[r.register=1]="register",r[r.login=2]="login",r[r.survey=3]="survey",r[r.emailSignup=4]="emailSignup",r),P=((c={}).register="register",c.login="login",c),M={authMode:P.register,currentView:C.register,setCurrentView:function(){},setAccountType:function(){},onSuccess:function(){}},k=(0,i.createContext)(M),S=[s.E.collectMedium,s.E.followUser,s.E.likeMedium],z=function(e){var t,n,r,c,o,p,g,v,M,z,T,H,V,A,B,D=e.intent,U=e.explicitAccountType,G=e.onRequestClose,F=e.children,I=(0,u.ZP)(),L=I.signedIn,R=I.user,N=(A=(V=(0,i.useState)(void 0))[0],B=V[1],{accountType:(0,i.useMemo)(function(){return U||A||(D?d[D.type]:void 0)},[U,A,D]),setAccountType:B}),Q=N.accountType,q=N.setAccountType,J=(t=(0,y.useRouter)(),r=(n=(0,Z.ZP)()).mediaIdsLiked,c=n.likeMedium,o=n.userIdsFollowed,p=n.followUser,v=(g=(0,w.Z)()).isJoined,M=g.joinCommunity,z=(0,O.dd)().showModal,T=(0,h.Z)(),H=(0,i.useMemo)(function(){var e,n,i,u;return e={},(0,l.Z)(e,s.E.enterChallenge,function(e){var n=(0,m.Z)(e,1)[0];t.push((0,j.Tp)({challengeSlug:n.attributes.slug,i18n:T}).href)}),(0,l.Z)(e,s.E.likeMedium,(n=(0,f.Z)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),(0,l.Z)(e,s.E.collectMedium,function(e){z(_.default,{medium:e})}),(0,l.Z)(e,s.E.followUser,(i=(0,f.Z)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o[t.id]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p(t,!0);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)})),(0,l.Z)(e,s.E.joinCommunity,(u=(0,f.Z)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,M.trigger(t);case 5:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})),(0,l.Z)(e,s.E.attendEvent,function(e){z(x,{event:e})}),e},[p,T,v,M,c,r,t,z,o]),D?H[D.type]:null),X=(0,i.useState)(Q?C.register:C.accountTypeSelection),$=X[0],K=X[1],W=(0,i.useState)(P.register),Y=W[0],ee=W[1],et=(0,a.f)().openWelcomeBanner;(0,i.useEffect)(function(){switch($){case C.register:ee(P.register);break;case C.login:ee(P.login)}},[$]);var en=(0,i.useMemo)(function(){return L&&!D&&Q===s.Q.consumer&&(null==R?void 0:R.attributes.show_survey)===!0&&(null==R?void 0:R.attributes.photographer)===!1},[L,D,Q,null==R?void 0:R.attributes.photographer,null==R?void 0:R.attributes.show_survey]),er=(0,i.useMemo)(function(){return Y===P.register&&!!(!D||S.includes(D.type))&&Q===s.Q.consumer},[D,Y,Q]),ec=(0,i.useCallback)(function(){D&&J&&J(D.datum),er&&et({authIntent:D}),null==G||G()},[J,D,G,et,er]);return(0,i.useEffect)(function(){if(!Q){K(C.accountTypeSelection);return}if(en){K(C.survey);return}K(C.register)},[Q,en]),(0,i.useEffect)(function(){L&&!en&&ec()},[L,ec,en]),(0,E.jsx)(k.Provider,{value:{intent:D,accountType:Q,setAccountType:q,currentView:$,setCurrentView:K,authMode:Y,onSuccess:ec},children:F})},T=function(){return(0,i.useContext)(k)}},82040:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(33106),c=n(85743),o=n(24715),i=n(92436);function u(){var e=(0,r.Z)("communities").t,t=(0,i.ZP)().addAlert;return{isJoined:function(e){return e.attributes.joined},joinCommunity:(0,o.f)(c.GX,{onSuccess:function(){t({type:"success",message:e("join_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("join_error"),timeoutMs:3e3})}}),leaveCommunity:(0,o.f)(c.tR,{onSuccess:function(){t({type:"success",message:e("leave_success"),timeoutMs:3e3})},onError:function(){t({type:"error",message:e("leave_error"),timeoutMs:3e3})}})}}},85743:function(e,t,n){"use strict";n.d(t,{$:function(){return m},C8:function(){return f},GX:function(){return h},Sq:function(){return g},Vc:function(){return y},ZV:function(){return p},gE:function(){return b},i1:function(){return v},tR:function(){return w}});var r=n(23810),c=n(94713),o=n(91341),i=n(10086),u=n(71351),a=n(54184),s=n(69566);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){return void 0!==e.attributes.leaderboard_views},m=(0,i.xk)(function(e){return"/api/v3/communities/".concat(e)},(0,i.Nv)()),p=(0,i.H9)()(function(e,t){var n=t.cursor;return"/api/v3/communities/".concat((0,a.j)(e),"/feed?").concat((0,s.Pz)({seed:n,per_page:12,seo_tags:!0}))}),b=(0,i.EP)()(function(e,t){var n=t.page;return"/api/v3/communities/".concat((0,a.j)(e),"/members?page=").concat(n,"&per_page=12")}),g=(0,i.EP)()(function(e,t){var n=e.community,r=e.perPage,c=e.includeCurrentUser,o=t.page;return"/api/v3/communities/".concat((0,a.j)(n),"/leaderboard?page=").concat(o,"&per_page=").concat(void 0===r?12:r).concat(c?"&include_current_user=1":"")}),v=(0,i.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/upcoming")},(0,i.Nv)()),y=(0,i.xk)(function(e){return"/api/v3/communities/".concat((0,a.j)(e),"/events/past")},(0,i.Nv)()),h=(0,i.H$)(function(e){var t=e.id;return["POST","/api/v3/communities/".concat(t,"/join"),null]},(0,i.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,o.Z)({name:"community",action:"join",id:t}),(0,u.P)(m,{matcher:n,mutator:function(e){var t=e.data;return{included:e.included,data:d(d({},t),{},{attributes:d(d({},t.attributes),{},{joined:!0})})}}}),(0,u.P)(g,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))},revalidate:!0})}}),w=(0,i.H$)(function(e){var t=e.id;return["DELETE","/api/v3/communities/".concat(t,"/leave"),null]},(0,i.Nv)(),{onSuccess:function(e){var t=e.id,n=e.attributes.slug;(0,o.Z)({name:"community",action:"leave",id:t}),(0,u.P)(m,{matcher:n}),(0,u.P)(g,{matcher:function(e){return(0,r.Z)(e,3)[2].includes("/".concat(t,"/"))}})}})},79746:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(94713),c=n(44713),o=n.n(c),i=n(45689),u=n(24115),a=n(48282);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=o()(function(){return Promise.all([n.e(57683),n.e(8328)]).then(n.bind(n,65929))},{loading:u.Z,loadableGenerated:{webpack:function(){return[65929]}}});function f(e){return(0,a.jsx)(i.Z,l(l({},e),{},{isOpen:!0,verticalPadding:50,horizontalPadding:50,children:!!e.medium&&(0,a.jsx)(d,l({},e))}))}},24115:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(90458),c=n(41402),o=n(48282);function i(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{height:70,marginBottom:30}),(0,o.jsxs)(r.Z,{gridTemplateColumns:"repeat(auto-fit, minmax(125px, 1fr))",gridColumnGap:15,gridRowGap:15,children:[(0,o.jsx)(c.Z,{responsiveSquare:!0}),(0,o.jsx)(c.Z,{responsiveSquare:!0})]})]})}},90458:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(21841),c=n.n(r),o=n(18529),i=n(82695),u=n(46852),a=n(48282);function s(e){var t=e.children,n=e.inline,r=e.gridTemplateAreas,s=e.gridTemplateRows,l=e.gridTemplateColumns,d=e.gridGap,f=e.gridColumnGap,m=e.gridRowGap,p=e.width,b=e.tag,g=void 0===b?(0,a.jsx)("div",{}):b,v=(0,i.Z)({display:n?"inline-grid":"grid",gridTemplateAreas:r,gridTemplateRows:s,gridTemplateColumns:l,gap:d,columnGap:f,rowGap:m,width:p});return(0,o.cloneElement)(g,{style:v,className:c()(e.className,(0,u.Z)(e)),children:t})}},79811:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var r=n(94713),c=n(32971),o=n(18529),i=n(14844),u=n(48282),a=["id"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return"https://images.pexels.com/photos/".concat(e,"/pexels-photo-").concat(e,".jpeg")}t.Z=(0,o.forwardRef)(function(e,t){var n=e.id,r=(0,c.Z)(e,a);return(0,u.jsx)(i.Z,l(l({},r),{},{url:d(n),ref:t}))})},78297:function(e){e.exports={imageSize:"120px",imageContainer:"AuthFormHeader_imageContainer__d14Qz",image:"AuthFormHeader_image__0odwz",imageLoadingBox:"AuthFormHeader_imageLoadingBox__JbltL",icon:"AuthFormHeader_icon__7_jz5",red:"AuthFormHeader_red__CASps",green:"AuthFormHeader_green__cwBXb",yellow:"AuthFormHeader_yellow__tER_U",noir:"AuthFormHeader_noir__dFnAi"}}}]);